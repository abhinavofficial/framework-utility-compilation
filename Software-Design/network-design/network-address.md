# Network Address

## History

* The early internet and TCP/IP were developed together as part of the US DARPA ARPAnet project in the 60's
* 1973 - A complete internet working system for the ARPAnet officially began
* December 1974 - RFC 675 for early TCP
* March 1977 - TCP version 2
* 1978 to 1980 - TCP/IP version 3 was developed
* Early 1980's - many machines (UNIX - UNiplexed Information Computing System) and networks started using TCP/IP version 4 on ARPAnet. 

IPv4 is based on base 2 (binary) - It is a 32-bit address.

IPv6 is based on Hexadecimal (Base-16) math. This is a 128-bit address
```text
Hexadecimal: 0  1  2  3  4  5  6  7  8  9  A   B   C   D   E   F (Not case sensitive)
Decimal    : 0  1  2  3  4  5  6  7  8  9  10  11  12  13  14  15
```

The initial TCP has proposed to have at least two layer. ISO (International Organisation of Standards) proposed a more generic multilayer model to support network communication, which is now referred to as [OSI](OSI-Model.md). This then upgraded to latest 4 layered [TCP/IP model](tcp-ip-model.md)

## Basics

### IP
An IP address is a unique address that identifies a device on the internet or a local network. IP stands for "Internet Protocol", which is the set of rules governing the format of data sent via the internet or local network.

In essence, IP addresses are the identifier that allows information to be sent between devices on a network. They contain location information and make devices accessible for communication. The internet needs a way to differentiate between different computers, routers, and websites. IP addresses provide a way of doing so and form an essential part of how the internet works.

### Versions

* **IPv4**: The original Internet Protocol is IPv4 which uses a 32-bit numeric dot-decimal notation that only allows for around 4 billion IP addresses. Initially, it was more than enough but as internet adoption grew, we needed something better. Example: 102.22.192.181

* **IPv6**: IPv6 is a new protocol that was introduced in 1998. Deployment commenced in the mid-2000s and since the internet users have grown exponentially, it is still ongoing. This new protocol uses 128-bit alphanumeric hexadecimal notation. This means that IPv6 can provide about ~340e+36 IP addresses. That's more than enough to meet the growing demand for years to come. Example: 2001:0db8:85a3:0000:0000:8a2e:0370:7334

### Types

* **Public**: A public IP address is an address where one primary address is associated with your whole network. In this type of IP address, each of the connected devices has the same IP address. Example: IP address provided to your router by the ISP.

* **Private**: A private IP address is a unique IP number assigned to every device that connects to your internet network, which includes devices like computers, tablets, and smartphones, which are used in your household. Example: IP addresses generated by your home router for your devices.

* **Static**: A static IP address does not change and is one that was manually created, as opposed to having been assigned. These addresses are usually more expensive but are more reliable. Example: They are usually used for important things like reliable geo-location services, remote access, server hosting, etc.

* **Dynamic**: A dynamic IP address changes from time to time and is not always the same. It has been assigned by a Dynamic Host Configuration Protocol (DHCP) server. Dynamic IP addresses are the most common type of internet protocol address. They are cheaper to deploy and allow us to reuse IP addresses within a network as needed. Example: They are more commonly used for consumer equipment and personal use.

## IPv4

IPv4 as you see 172.16.0.0, is a 32 bit value, similar to 10101100.00010000.00000000.00000000 (each string separate by . is called Octet). Based on this, there are 2^32 total address possibilities = 4,294,967,296

### Classful Networking

![](../images/classful-networking.png)

Class A - 8 bits are used and 24 bits are left for the hostId. This is what is known /8 block which will discuss further. This leaves 2^24 IPs to be used.
Class B - 16 bits are left for the hostId. 65,536 (2^16) IP addresses
Class C - 8 bits are left for the hostId. 256 (2^8) IP addresses

This typically led to wasting a lot of unused IP addresses and was diluting the IPv4 address space much quicker than required. This is the time when IPv6 was introduced which can handle 3.4 * 10^38 address, but struggled to get people to migrate over to IPv6 since a lot of software and hardware were designed around IPv4. IPv6 was conceptualized and implemented in 1998 and not everything has moved to IPv6 in 2022.

### NAT
Came as somewhat of a solution to the problem.
* They allow packet re-routing to private IPs
* Slows the IPv4 exhaustion problem

NAT, Network Address Translation. It sits at the edge of Internet, referred to as NAT gateway. So, any network behind the NAT are invisible to the Internet.

### CIDR
CIDR, Classless Inter-Domain Routing. It  simplifies routing tables and reduces IPv4 exhaustion.
Private IP Address Space, as defined by IANA, Internet Assigned Numbers Authority

| From        | To              |
|-------------|-----------------|
| 10.0.0.0    | 10.255.255.255  |
| 172.16.0.0  | 172.31.255.255  |
| 192.168.0.0 | 192.168.255.255 |

CIDR is defined by its network prefix and host id and depicted a address and network prefix length.

![](../images/CIDR-description.png)

So, if you declare CIDR block as 10.0.0.0/20, it means you network is 20 bit long, and you have an option to create 2^12, 4096 assignable IP addresses.

#### Calculating CIDR Starting and Ending Range
Let's assume, CIDR block is 10.0.0.0/20. It means first 20 has been used up by network. So, 11111111.11111111.11110000.00000000 is used up. For us to use, now is - 00000000.00000000.00001111.11111111, which is now translating into 0.0.15.255. Overlaying now with starting range of 10.0.0.0, we get to 10.0.15.255.


## IPv6
